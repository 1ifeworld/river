{"abi":[],"bytecode":{"object":"0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212200b78b924a3659ae885cf178aa126d7fd34528564d940f899355bf3b9b9b96a2864736f6c63430008170033","sourceMap":"532:1744:32:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;532:1744:32;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212200b78b924a3659ae885cf178aa126d7fd34528564d940f899355bf3b9b9b96a2864736f6c63430008170033","sourceMap":"532:1744:32:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[],\"devdoc\":{\"details\":\"Signature verification helper that can be used instead of `ECDSA.recover` to seamlessly support both ECDSA signatures from externally owned accounts (EOAs) as well as ERC-1271 signatures from smart contract wallets like Argent and Safe Wallet (previously Gnosis Safe).\",\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"lib/openzeppelin-contracts/contracts/utils/cryptography/SignatureChecker.sol\":\"SignatureChecker\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":500000},\"remappings\":[\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":micro-onchain-metadata-utils/=lib/river-contracts/lib/micro-onchain-metadata-utils/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/contracts/\",\":river-contracts/=lib/river-contracts/src/\",\":solidity-bytes-utils/=lib/river-contracts/lib/solidity-bytes-utils/contracts/\",\":sstore2/=lib/river-contracts/lib/sstore2/contracts/\"]},\"sources\":{\"lib/openzeppelin-contracts/contracts/interfaces/IERC1271.sol\":{\"keccak256\":\"0x0a7e89ffa57127a2e75931be926a11094b6ee2955632a5dce0228f3d8e98eb02\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://ca02052cca6c00d760253f74519e6d7460dfaaf4efb3c004bf9c811ad7791d40\",\"dweb:/ipfs/QmSfzCXbsALfzo6Joqte5oyJxi7h27VqhDmcMJhmNGX2GJ\"]},\"lib/openzeppelin-contracts/contracts/utils/cryptography/ECDSA.sol\":{\"keccak256\":\"0xa548dd62e9e17616ae80a1e7ac7b1447ae377efc27fb9f7b4f4fbf5c0b0a1dfb\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d27e9ae3e67eb229444cd43d49db5be57c586155fd1d363b3b1f9bb1b7bb0087\",\"dweb:/ipfs/QmT2GFnpXsTWBs8bkeVJtQ4VNX7f3igxwB77JBCr4mDXb3\"]},\"lib/openzeppelin-contracts/contracts/utils/cryptography/SignatureChecker.sol\":{\"keccak256\":\"0x4e2a8ed224c9c4fe41add93de8fa53ef3f2f5ee7a9c613e667796602ceb87e12\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6a8516f3683103d13108094b41604e64f50f0cceaabbddbf2221f5959cf869ab\",\"dweb:/ipfs/QmT2ophcTsuvDkv1EPyjuNG3B7NVPA5NtQqco2XWtWQHMe\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","micro-onchain-metadata-utils/=lib/river-contracts/lib/micro-onchain-metadata-utils/","openzeppelin-contracts/=lib/openzeppelin-contracts/contracts/","river-contracts/=lib/river-contracts/src/","solidity-bytes-utils/=lib/river-contracts/lib/solidity-bytes-utils/contracts/","sstore2/=lib/river-contracts/lib/sstore2/contracts/"],"optimizer":{"enabled":true,"runs":500000},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"lib/openzeppelin-contracts/contracts/utils/cryptography/SignatureChecker.sol":"SignatureChecker"},"libraries":{}},"sources":{"lib/openzeppelin-contracts/contracts/interfaces/IERC1271.sol":{"keccak256":"0x0a7e89ffa57127a2e75931be926a11094b6ee2955632a5dce0228f3d8e98eb02","urls":["bzz-raw://ca02052cca6c00d760253f74519e6d7460dfaaf4efb3c004bf9c811ad7791d40","dweb:/ipfs/QmSfzCXbsALfzo6Joqte5oyJxi7h27VqhDmcMJhmNGX2GJ"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/cryptography/ECDSA.sol":{"keccak256":"0xa548dd62e9e17616ae80a1e7ac7b1447ae377efc27fb9f7b4f4fbf5c0b0a1dfb","urls":["bzz-raw://d27e9ae3e67eb229444cd43d49db5be57c586155fd1d363b3b1f9bb1b7bb0087","dweb:/ipfs/QmT2GFnpXsTWBs8bkeVJtQ4VNX7f3igxwB77JBCr4mDXb3"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/cryptography/SignatureChecker.sol":{"keccak256":"0x4e2a8ed224c9c4fe41add93de8fa53ef3f2f5ee7a9c613e667796602ceb87e12","urls":["bzz-raw://6a8516f3683103d13108094b41604e64f50f0cceaabbddbf2221f5959cf869ab","dweb:/ipfs/QmT2ophcTsuvDkv1EPyjuNG3B7NVPA5NtQqco2XWtWQHMe"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"lib/openzeppelin-contracts/contracts/utils/cryptography/SignatureChecker.sol","id":45234,"exportedSymbols":{"ECDSA":[44831],"IERC1271":[43661],"SignatureChecker":[45233]},"nodeType":"SourceUnit","src":"123:2154:32","nodes":[{"id":45134,"nodeType":"PragmaDirective","src":"123:24:32","nodes":[],"literals":["solidity","^","0.8",".20"]},{"id":45136,"nodeType":"ImportDirective","src":"149:34:32","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/utils/cryptography/ECDSA.sol","file":"./ECDSA.sol","nameLocation":"-1:-1:-1","scope":45234,"sourceUnit":44832,"symbolAliases":[{"foreign":{"id":45135,"name":"ECDSA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44831,"src":"157:5:32","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45138,"nodeType":"ImportDirective","src":"184:55:32","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/interfaces/IERC1271.sol","file":"../../interfaces/IERC1271.sol","nameLocation":"-1:-1:-1","scope":45234,"sourceUnit":43662,"symbolAliases":[{"foreign":{"id":45137,"name":"IERC1271","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43661,"src":"192:8:32","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45233,"nodeType":"ContractDefinition","src":"532:1744:32","nodes":[{"id":45180,"nodeType":"FunctionDefinition","src":"1041:368:32","nodes":[],"body":{"id":45179,"nodeType":"Block","src":"1153:256:32","nodes":[],"statements":[{"assignments":[45152,45155,null],"declarations":[{"constant":false,"id":45152,"mutability":"mutable","name":"recovered","nameLocation":"1172:9:32","nodeType":"VariableDeclaration","scope":45179,"src":"1164:17:32","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45151,"name":"address","nodeType":"ElementaryTypeName","src":"1164:7:32","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":45155,"mutability":"mutable","name":"error","nameLocation":"1202:5:32","nodeType":"VariableDeclaration","scope":45179,"src":"1183:24:32","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_RecoverError_$44491","typeString":"enum ECDSA.RecoverError"},"typeName":{"id":45154,"nodeType":"UserDefinedTypeName","pathNode":{"id":45153,"name":"ECDSA.RecoverError","nameLocations":["1183:5:32","1189:12:32"],"nodeType":"IdentifierPath","referencedDeclaration":44491,"src":"1183:18:32"},"referencedDeclaration":44491,"src":"1183:18:32","typeDescriptions":{"typeIdentifier":"t_enum$_RecoverError_$44491","typeString":"enum ECDSA.RecoverError"}},"visibility":"internal"},null],"id":45161,"initialValue":{"arguments":[{"id":45158,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45144,"src":"1230:4:32","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":45159,"name":"signature","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45146,"src":"1236:9:32","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":45156,"name":"ECDSA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44831,"src":"1213:5:32","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ECDSA_$44831_$","typeString":"type(library ECDSA)"}},"id":45157,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1219:10:32","memberName":"tryRecover","nodeType":"MemberAccess","referencedDeclaration":44557,"src":"1213:16:32","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_bytes_memory_ptr_$returns$_t_address_$_t_enum$_RecoverError_$44491_$_t_bytes32_$","typeString":"function (bytes32,bytes memory) pure returns (address,enum ECDSA.RecoverError,bytes32)"}},"id":45160,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1213:33:32","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_address_$_t_enum$_RecoverError_$44491_$_t_bytes32_$","typeString":"tuple(address,enum ECDSA.RecoverError,bytes32)"}},"nodeType":"VariableDeclarationStatement","src":"1163:83:32"},{"expression":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":45177,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":45170,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_enum$_RecoverError_$44491","typeString":"enum ECDSA.RecoverError"},"id":45166,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45162,"name":"error","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45155,"src":"1276:5:32","typeDescriptions":{"typeIdentifier":"t_enum$_RecoverError_$44491","typeString":"enum ECDSA.RecoverError"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":45163,"name":"ECDSA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44831,"src":"1285:5:32","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ECDSA_$44831_$","typeString":"type(library ECDSA)"}},"id":45164,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1291:12:32","memberName":"RecoverError","nodeType":"MemberAccess","referencedDeclaration":44491,"src":"1285:18:32","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_RecoverError_$44491_$","typeString":"type(enum ECDSA.RecoverError)"}},"id":45165,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1304:7:32","memberName":"NoError","nodeType":"MemberAccess","referencedDeclaration":44487,"src":"1285:26:32","typeDescriptions":{"typeIdentifier":"t_enum$_RecoverError_$44491","typeString":"enum ECDSA.RecoverError"}},"src":"1276:35:32","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":45169,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45167,"name":"recovered","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45152,"src":"1315:9:32","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":45168,"name":"signer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45142,"src":"1328:6:32","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1315:19:32","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"1276:58:32","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":45171,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1275:60:32","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"arguments":[{"id":45173,"name":"signer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45142,"src":"1378:6:32","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":45174,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45144,"src":"1386:4:32","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":45175,"name":"signature","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45146,"src":"1392:9:32","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":45172,"name":"isValidERC1271SignatureNow","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45232,"src":"1351:26:32","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_bytes32_$_t_bytes_memory_ptr_$returns$_t_bool_$","typeString":"function (address,bytes32,bytes memory) view returns (bool)"}},"id":45176,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1351:51:32","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"1275:127:32","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":45150,"id":45178,"nodeType":"Return","src":"1256:146:32"}]},"documentation":{"id":45140,"nodeType":"StructuredDocumentation","src":"563:473:32","text":" @dev Checks if a signature is valid for a given signer and data hash. If the signer is a smart contract, the\n signature is validated against that smart contract using ERC-1271, otherwise it's validated using `ECDSA.recover`.\n NOTE: Unlike ECDSA signatures, contract signatures are revocable, and the outcome of this function can thus\n change through time. It could return true at block N and false at block N+1 (or the opposite)."},"implemented":true,"kind":"function","modifiers":[],"name":"isValidSignatureNow","nameLocation":"1050:19:32","parameters":{"id":45147,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45142,"mutability":"mutable","name":"signer","nameLocation":"1078:6:32","nodeType":"VariableDeclaration","scope":45180,"src":"1070:14:32","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45141,"name":"address","nodeType":"ElementaryTypeName","src":"1070:7:32","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":45144,"mutability":"mutable","name":"hash","nameLocation":"1094:4:32","nodeType":"VariableDeclaration","scope":45180,"src":"1086:12:32","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":45143,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1086:7:32","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":45146,"mutability":"mutable","name":"signature","nameLocation":"1113:9:32","nodeType":"VariableDeclaration","scope":45180,"src":"1100:22:32","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":45145,"name":"bytes","nodeType":"ElementaryTypeName","src":"1100:5:32","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"1069:54:32"},"returnParameters":{"id":45150,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45149,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":45180,"src":"1147:4:32","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":45148,"name":"bool","nodeType":"ElementaryTypeName","src":"1147:4:32","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"1146:6:32"},"scope":45233,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":45232,"nodeType":"FunctionDefinition","src":"1816:458:32","nodes":[],"body":{"id":45231,"nodeType":"Block","src":"1965:309:32","nodes":[],"statements":[{"assignments":[45193,45195],"declarations":[{"constant":false,"id":45193,"mutability":"mutable","name":"success","nameLocation":"1981:7:32","nodeType":"VariableDeclaration","scope":45231,"src":"1976:12:32","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":45192,"name":"bool","nodeType":"ElementaryTypeName","src":"1976:4:32","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":45195,"mutability":"mutable","name":"result","nameLocation":"2003:6:32","nodeType":"VariableDeclaration","scope":45231,"src":"1990:19:32","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":45194,"name":"bytes","nodeType":"ElementaryTypeName","src":"1990:5:32","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":45207,"initialValue":{"arguments":[{"arguments":[{"expression":{"id":45200,"name":"IERC1271","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43661,"src":"2059:8:32","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC1271_$43661_$","typeString":"type(contract IERC1271)"}},"id":45201,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2068:16:32","memberName":"isValidSignature","nodeType":"MemberAccess","referencedDeclaration":43660,"src":"2059:25:32","typeDescriptions":{"typeIdentifier":"t_function_declaration_view$_t_bytes32_$_t_bytes_memory_ptr_$returns$_t_bytes4_$","typeString":"function IERC1271.isValidSignature(bytes32,bytes memory) view returns (bytes4)"}},{"components":[{"id":45202,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45185,"src":"2087:4:32","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":45203,"name":"signature","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45187,"src":"2093:9:32","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"id":45204,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2086:17:32","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes32_$_t_bytes_memory_ptr_$","typeString":"tuple(bytes32,bytes memory)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_function_declaration_view$_t_bytes32_$_t_bytes_memory_ptr_$returns$_t_bytes4_$","typeString":"function IERC1271.isValidSignature(bytes32,bytes memory) view returns (bytes4)"},{"typeIdentifier":"t_tuple$_t_bytes32_$_t_bytes_memory_ptr_$","typeString":"tuple(bytes32,bytes memory)"}],"expression":{"id":45198,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"2044:3:32","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":45199,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2048:10:32","memberName":"encodeCall","nodeType":"MemberAccess","src":"2044:14:32","typeDescriptions":{"typeIdentifier":"t_function_abiencodecall_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":45205,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2044:60:32","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":45196,"name":"signer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45183,"src":"2013:6:32","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":45197,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2020:10:32","memberName":"staticcall","nodeType":"MemberAccess","src":"2013:17:32","typeDescriptions":{"typeIdentifier":"t_function_barestaticcall_view$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) view returns (bool,bytes memory)"}},"id":45206,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2013:101:32","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"nodeType":"VariableDeclarationStatement","src":"1975:139:32"},{"expression":{"components":[{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":45228,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":45213,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45208,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45193,"src":"2132:7:32","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45212,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":45209,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45195,"src":"2155:6:32","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":45210,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2162:6:32","memberName":"length","nodeType":"MemberAccess","src":"2155:13:32","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"hexValue":"3332","id":45211,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2172:2:32","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"32"},"src":"2155:19:32","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"2132:42:32","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":45227,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":45216,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45195,"src":"2201:6:32","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"id":45218,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2210:7:32","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":45217,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2210:7:32","typeDescriptions":{}}}],"id":45219,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"2209:9:32","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"}],"expression":{"id":45214,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"2190:3:32","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":45215,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2194:6:32","memberName":"decode","nodeType":"MemberAccess","src":"2190:10:32","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":45220,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2190:29:32","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"expression":{"expression":{"id":45223,"name":"IERC1271","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43661,"src":"2231:8:32","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC1271_$43661_$","typeString":"type(contract IERC1271)"}},"id":45224,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2240:16:32","memberName":"isValidSignature","nodeType":"MemberAccess","referencedDeclaration":43660,"src":"2231:25:32","typeDescriptions":{"typeIdentifier":"t_function_declaration_view$_t_bytes32_$_t_bytes_memory_ptr_$returns$_t_bytes4_$","typeString":"function IERC1271.isValidSignature(bytes32,bytes memory) view returns (bytes4)"}},"id":45225,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2257:8:32","memberName":"selector","nodeType":"MemberAccess","src":"2231:34:32","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":45222,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2223:7:32","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":45221,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2223:7:32","typeDescriptions":{}}},"id":45226,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2223:43:32","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"2190:76:32","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"2132:134:32","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":45229,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2131:136:32","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":45191,"id":45230,"nodeType":"Return","src":"2124:143:32"}]},"documentation":{"id":45181,"nodeType":"StructuredDocumentation","src":"1415:396:32","text":" @dev Checks if a signature is valid for a given signer and data hash. The signature is validated\n against the signer smart contract using ERC-1271.\n NOTE: Unlike ECDSA signatures, contract signatures are revocable, and the outcome of this function can thus\n change through time. It could return true at block N and false at block N+1 (or the opposite)."},"implemented":true,"kind":"function","modifiers":[],"name":"isValidERC1271SignatureNow","nameLocation":"1825:26:32","parameters":{"id":45188,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45183,"mutability":"mutable","name":"signer","nameLocation":"1869:6:32","nodeType":"VariableDeclaration","scope":45232,"src":"1861:14:32","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45182,"name":"address","nodeType":"ElementaryTypeName","src":"1861:7:32","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":45185,"mutability":"mutable","name":"hash","nameLocation":"1893:4:32","nodeType":"VariableDeclaration","scope":45232,"src":"1885:12:32","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":45184,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1885:7:32","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":45187,"mutability":"mutable","name":"signature","nameLocation":"1920:9:32","nodeType":"VariableDeclaration","scope":45232,"src":"1907:22:32","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":45186,"name":"bytes","nodeType":"ElementaryTypeName","src":"1907:5:32","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"1851:84:32"},"returnParameters":{"id":45191,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45190,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":45232,"src":"1959:4:32","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":45189,"name":"bool","nodeType":"ElementaryTypeName","src":"1959:4:32","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"1958:6:32"},"scope":45233,"stateMutability":"view","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"SignatureChecker","contractDependencies":[],"contractKind":"library","documentation":{"id":45139,"nodeType":"StructuredDocumentation","src":"241:290:32","text":" @dev Signature verification helper that can be used instead of `ECDSA.recover` to seamlessly support both ECDSA\n signatures from externally owned accounts (EOAs) as well as ERC-1271 signatures from smart contract wallets like\n Argent and Safe Wallet (previously Gnosis Safe)."},"fullyImplemented":true,"linearizedBaseContracts":[45233],"name":"SignatureChecker","nameLocation":"540:16:32","scope":45234,"usedErrors":[],"usedEvents":[]}],"license":"MIT"},"id":32}